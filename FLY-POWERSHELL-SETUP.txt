# ðŸš€ Fly.io Setup w PowerShell

## 1. Instalacja Fly CLI

### Opcja A: Przez PowerShell (recommended)
```powershell
# Uruchom jako Administrator
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# Pobierz i zainstaluj Fly CLI
iwr https://fly.io/install.ps1 -useb | iex
```

### Opcja B: Manualnie
1. Pobierz z: https://github.com/superfly/flyctl/releases
2. Rozpakuj do folderu (np. `C:\flyctl`)
3. Dodaj do PATH:
```powershell
# Tymczasowo dla sesji
$env:PATH += ";C:\flyctl"

# TrwaÅ‚e dodanie do PATH
[Environment]::SetEnvironmentVariable("PATH", $env:PATH + ";C:\flyctl", "User")
```

## 2. Weryfikacja instalacji
```powershell
flyctl version
```

## 3. Logowanie do Fly.io
```powershell
# Otworzy przeglÄ…darkÄ™ do logowania
flyctl auth login

# Lub z tokenem (jeÅ›li masz)
flyctl auth token
```

## 4. Konfiguracja projektu
```powershell
# PrzejdÅº do folderu projektu
cd "C:\Users\kamil\Bookcards\10xDevBookCard"

# SprawdÅº status
flyctl status

# SprawdÅº aplikacje
flyctl apps list
```

## 5. Deploy
```powershell
# Standardowy deploy
flyctl deploy

# Force deploy (bez cache)
flyctl deploy --strategy=immediate

# Deploy z verbose output
flyctl deploy --verbose
```

## 6. Debugowanie i logi
```powershell
# SprawdÅº logi
flyctl logs --recent

# Logi w czasie rzeczywistym
flyctl logs --follow

# SprawdÅº status maszyny
flyctl status

# SSH do kontenera
flyctl ssh console

# SprawdÅº pliki w kontenerze
flyctl ssh console --command "ls -la /app/templates/auth/"
```

## 7. ZarzÄ…dzanie sekretami
```powershell
# Ustaw sekrety
flyctl secrets set SECRET_KEY="twoj-klucz"
flyctl secrets set OPENROUTER_API_KEY="twoj-api-key"

# SprawdÅº sekrety (bez wartoÅ›ci)
flyctl secrets list

# UsuÅ„ sekret
flyctl secrets remove SECRET_KEY
```

## 8. ZarzÄ…dzanie aplikacjÄ…
```powershell
# OtwÃ³rz aplikacjÄ™ w przeglÄ…darce
flyctl open

# Zatrzymaj aplikacjÄ™
flyctl apps stop

# Uruchom aplikacjÄ™
flyctl apps start

# Restart aplikacji
flyctl apps restart
```

## 9. RozwiÄ…zywanie problemÃ³w

### Problem: "flyctl nie jest rozpoznawany"
```powershell
# SprawdÅº PATH
echo $env:PATH

# Dodaj rÄ™cznie
$env:PATH += ";C:\flyctl"
```

### Problem: "Permission denied"
```powershell
# Uruchom PowerShell jako Administrator
# Ustaw politykÄ™ wykonawczÄ…
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### Problem: "SSL/TLS certificate error"
```powershell
# Zignoruj bÅ‚Ä…d certyfikatu (tylko tymczasowo!)
[System.Net.ServicePointManager]::SecurityProtocol = [System.Net.SecurityProtocolType]::Tls12
```

## 10. Przydatne aliasy w PowerShell
```powershell
# Dodaj do PowerShell Profile ($PROFILE)
Set-Alias -Name fly -Value flyctl

# Funkcje pomocnicze
function fly-logs { flyctl logs --recent }
function fly-deploy { flyctl deploy --strategy=immediate }
function fly-ssh { flyctl ssh console }
function fly-status { flyctl status }
```

## 11. PowerShell Profile (opcjonalnie)
```powershell
# OtwÃ³rz profile
notepad $PROFILE

# Dodaj aliasy i funkcje
Set-Alias -Name fly -Value flyctl
function fly-logs { flyctl logs --recent }
function fly-deploy { flyctl deploy --strategy=immediate }
function fly-ssh { flyctl ssh console }
function fly-status { flyctl status }

# PrzeÅ‚aduj profile
. $PROFILE
```

## ðŸŽ¯ Szybki start (po konfiguracji):
```powershell
cd "C:\Users\kamil\Bookcards\10xDevBookCard"
flyctl deploy --strategy=immediate
flyctl open
```

Gotowe! Teraz moÅ¼esz zarzÄ…dzaÄ‡ Fly.io prosto z PowerShell! ðŸš€
